const { logger } = require('@dotenvx/dotenvx')
const Session = require('./../../../db/session')

function hostname () {
  try {
    const sesh = new Session()
    const _hostname = sesh.hostname()
    if (_hostname && _hostname.length > 1) {
      process.stdout.write(_hostname)
    } else {
      logger.error('missing hostname. Try running [dotenvx-ops login].')
      process.exit(1)
    }
  } catch (error) {
    logger.error(error.message)
    process.exit(1)
  }
}

module.exports = hostname
