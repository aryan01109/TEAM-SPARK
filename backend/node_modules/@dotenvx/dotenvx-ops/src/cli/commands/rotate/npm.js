const { Command } = require('commander')

const npm = new Command('npm')

const Session = require('./../../../db/session')
const sesh = new Session()

npm
  .description('npm')
  .allowUnknownOption()

// dotenvx-ops rotate npm connect
const connectAction = require('./../../actions/rotate/npm/connect')
npm
  .command('connect')
  .description('connect passcard')
  .option('--org <organizationSlug>')
  .option('--username <username>')
  .option('--password <password>')
  .option('--email <email>')
  .option('--hostname <url>', 'set hostname', sesh.hostname())
  .option('--token <token>', 'set token')
  .action(connectAction)

module.exports = npm
