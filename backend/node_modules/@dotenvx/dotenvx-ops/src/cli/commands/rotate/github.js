const { Command } = require('commander')

const github = new Command('github')

const Session = require('./../../../db/session')
const sesh = new Session()

github
  .description('github')
  .allowUnknownOption()

// dotenvx-ops rotate github connect
const connectAction = require('./../../actions/rotate/github/connect')
github
  .command('connect')
  .description('connect passcard')
  .option('--org <organizationSlug>')
  .option('--username <username>')
  .option('--password <password>')
  .option('--email <email>')
  .option('--hostname <url>', 'set hostname', sesh.hostname())
  .option('--token <token>', 'set token')
  .action(connectAction)

module.exports = github
