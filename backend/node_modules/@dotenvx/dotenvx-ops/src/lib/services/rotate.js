const PostRotate = require('./../api/postRotate')

class Rotate {
  constructor (hostname, token, inputUri) {
    this.hostname = hostname
    this.token = token
    this.inputUri = inputUri
  }

  async run () {
    const hostname = this.hostname
    const token = this.token
    const inputUri = this.inputUri

    const json = await new PostRotate(hostname, token, inputUri).run()
    const uri = json.uri
    const url = json.url
    const rotUid = json.rot_uid

    return {
      uri,
      url,
      rotUid
    }
  }
}

module.exports = Rotate
